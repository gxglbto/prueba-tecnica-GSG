<div class="container ">

    <h1 class="text-center">Formulario reactivo</h1>
    
    <div class="   container-form">
        
        <form class="form" [formGroup]="this.reactiveForm">
    
            <div class="">
                <mat-form-field class="w-100  bloqueado">
            
                    <mat-label>Nombres</mat-label>
                    <input type="text" matInput formControlName="nombres"
                    [errorStateMatcher]="matcher"
                    >
                    <mat-error  *ngIf=" this.reactiveForm.get('nombres')?.hasError('required')">El nombre es requerido.</mat-error>
                    <mat-error *ngIf=" this.reactiveForm.get('nombres')?.hasError('withoutSpaceToFinish') " >
                        El nombre no puede tener espacios en blanco al incio o al final.
                    </mat-error>
                </mat-form-field>
                
               
            </div>
        
            <div class="mt-3">
                <mat-form-field class="w-100">
            
                    <mat-label>Apellidos</mat-label>
                    <input type="text" matInput  formControlName="apellidos"
                    [errorStateMatcher]="matcher">
                    <mat-error  *ngIf=" this.reactiveForm.get('apellidos')?.hasError('required') ">El apellido es requerido.</mat-error>
                    <mat-error *ngIf=" this.reactiveForm.get('apellidos')?.hasError('withoutSpaceToFinish') " >
                        El apellido no puede tener espacios en blanco al incio o al final.
                    </mat-error>
                </mat-form-field>
            </div>
        
            <div class="mt-3  d-flex ">

                <div class="">

                    <p class="   form__p">Fumas:</p>
                    <p class="   form__p">Actualmente practicas lectura:</p>
                </div>
                &nbsp;&nbsp;&nbsp;&nbsp;
                <div class=" d-flex-column">

                    <div class=" ">
                        <input type="radio" formControlName="fumas" [value]="true"  (click)="changeValue(true, 'fumas')">Si
                            &nbsp;&nbsp;
                            <input type="radio" formControlName="fumas" [value]="false" (click)="changeValue(false, 'fumas')">No
                            <mat-error  *ngIf="fumarInvalid">Selecciona una opción.</mat-error>

                    </div>
                    <div class="  mt-3" >
                        <input type="radio" formControlName="actualmentePracticasLectura" [value]="true"  (click)="changeValue(true, 'actualmentePracticasLectura')">Si
                        &nbsp;&nbsp;
                        <input type="radio" formControlName="actualmentePracticasLectura" [value]="false" (click)="changeValue(false, 'actualmentePracticasLectura')">No
                        <mat-error  *ngIf="actualmentePracticasLecturaInvalid">Selecciona una opción.</mat-error>

                    </div>
                </div>
                
                
            </div>
        
            <div class="mt-3">
    
                <table class="table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Libro</th>
                            <th>Agregar</th>
                            <th>Borrar</th>
                        </tr>
                    </thead>
                    <tbody formArrayName="librosLeidosUltimosTresMeses">
                        <tr *ngFor="let control of librosLeidos.controls; let i = index">
                            <td>{{ i + 1 }}</td>
                            <td>
                                 
                                <mat-form-field class="w-100">
                            
                                    <mat-label class="w-100">Nombre del libro</mat-label>
                                    <input type="text" matInput  [formControlName]="i">
                                </mat-form-field>
                            </td>
                            <td >
                                <button type="button"
                                    *ngIf="this.getVisibleBtnAdd(i)"
                                    class="btn btn-primary"
                                    (click)="addControl()"
                                    [disabled]="(this.reactiveForm.get('actualmentePracticasLectura')?.value == false)"
                                 >
                                 <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-journal-plus" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M8 5.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V10a.5.5 0 0 1-1 0V8.5H6a.5.5 0 0 1 0-1h1.5V6a.5.5 0 0 1 .5-.5"/>
                                    <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"/>
                                    <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"/>
                                  </svg>
                                  Agregar
                                </button>
                            </td>
                            <td >
                                <button type="button"
                                    *ngIf="this.getValidBtnRemove(i)"
                                    class="btn btn-danger" 
                                    (click)="removeBook(i)" 
                                    [disabled]="this.reactiveForm.get('actualmentePracticasLectura')?.value == false"
                                >
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-journal-x" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M6.146 6.146a.5.5 0 0 1 .708 0L8 7.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 8l1.147 1.146a.5.5 0 0 1-.708.708L8 8.707 6.854 9.854a.5.5 0 0 1-.708-.708L7.293 8 6.146 6.854a.5.5 0 0 1 0-.708"/>
                                    <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"/>
                                    <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"/>
                                </svg>
                                Remover
                            </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
    
            </div>
        
            <div class="mt-3">
                <mat-form-field class="w-100">
            
                    <mat-label>Estado civil</mat-label>
                    <mat-select  formControlName="estadoCivil"
                            (selectionChange)="selectTypeMaritalStatus( $event )"
                        >
                            <mat-option  *ngFor="let option of this.maritalStatusCatalog " [value]="option">
                                {{ option.description }}
                            </mat-option>
                        </mat-select>
                </mat-form-field>
            </div>
    
            <div  class="w-100  d-flex justify-content-center">
                <button class="btn btn-primary   btn-custom" (click)="submitForm()" >Enviar</button>
            </div>
        </form>
    </div>
</div>